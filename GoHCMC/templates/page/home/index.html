{% extends 'layout.html' %}
{% load static %}
{% block title %}Trang chủ{% endblock %}
{% block content %}
  <link rel="stylesheet" href="{% static 'css/homepage.css' %}">
  <div class="banner" id="banner">
    <img id="banner-img" class="banner-img" src="" alt="Banner" />
    <div class="banner-overlay">
      <h1 id="banner-title"></h1>
      <p id="banner-desc"></p>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('/static/data/Banner.json')
        .then(res => res.json())
        .then(banners => {
          let idx = 0;
          const img = document.getElementById('banner-img');
          const title = document.getElementById('banner-title');
          const desc = document.getElementById('banner-desc');
          function showBanner(i) {
            img.src = banners[i].img;
            title.textContent = banners[i].title;
            desc.textContent = banners[i].desc;
          }
          showBanner(idx);
          setInterval(() => {
            idx = (idx + 1) % banners.length;
            showBanner(idx);
          }, 5000);
        });      
    });
  </script>
  {% comment %} List palace of tourist {% endcomment %}
  <section class="palace-section">
    <h3>Địa điểm nổi bật</h3>
    <div class="palace-list" id="palace-list">
      {%for loc in top_locations %}
      <a href="{% url 'display_location' loc.code %}" style="text-decoration: none; color: inherit;">
      <div class="palace-item">
        <div>
          <img src="{{ loc.image_path }}" alt="{{ loc.location }}" class="palace-image"/>
          <div class="palace-info">
            <div style="display:flex;">
            <h4>{{ loc.location }}</h4>
            <div class="favourite">
              <button class="fav-btn" data-code="{{ loc.code }}">
              {% if loc.favourite_symbol == '<i class="fa-solid fa-heart"></i>' %}
                <i class="fa-solid fa-heart"></i>
              {% else %}
                <i class="fa-regular fa-heart"></i>
              {% endif %}
              </button>
            </div>
            </div>
            <p>{{ loc.description }}</p>
            <div style="display: flex; align-items: center; justify-content: space-between;">
            <div class="rating">
              {{ loc.star_html|safe }}
              <span>{{ loc.rating }} / 5</span>
            </div>
          </div>
        </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>
  {% comment %} Tại sao lại chọn chúng tôi {% endcomment %}
  <div class="why-choose-us">
    <h3>Tại sao lại chọn chúng tôi</h3>
    <ul>
      <li>Thông tin du lịch cập nhật và chính xác.</li>
      <li>Giao diện thân thiện, dễ sử dụng.</li>
      <li>Hỗ trợ đa ngôn ngữ cho du khách quốc tế.</li>
    </ul>
  </div>
{% endblock %}
