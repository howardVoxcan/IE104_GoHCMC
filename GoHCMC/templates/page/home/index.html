{% extends 'layout.html' %}
{% load static %}
{% block title %}Trang chủ{% endblock %}
{% block content %}
  <link rel="stylesheet" href="{% static 'css/homepage.css' %}">
  <div class="banner" id="banner">
    <img id="banner-img" class="banner-img" src="" alt="Banner" />
    <div class="banner-overlay">
      <h1 id="banner-title"></h1>
      <p id="banner-desc"></p>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('/static/data/Banner.json')
        .then(res => res.json())
        .then(banners => {
          let idx = 0;
          const img = document.getElementById('banner-img');
          const title = document.getElementById('banner-title');
          const desc = document.getElementById('banner-desc');
          function showBanner(i) {
            img.src = banners[i].img;
            title.textContent = banners[i].title;
            desc.textContent = banners[i].desc;
          }
          showBanner(idx);
          setInterval(() => {
            idx = (idx + 1) % banners.length;
            showBanner(idx);
          }, 5000);
        });      
    });
  </script>
  {% comment %} List palace of tourist {% endcomment %}
  <section class="palace-section">
    <h3>Địa điểm nổi bật</h3>
    <div class="palace-list" id="palace-list">
      {%for loc in top_locations %}
      <a href="{% url 'display_location' loc.code %}" style="text-decoration: none; color: inherit;">
      <div class="palace-item">
        <div>
          <img src="{{ loc.image_path }}" alt="{{ loc.location }}" class="palace-image"/>
          <div class="palace-info">
            <div style="display:flex;">
            <h4>{{ loc.location }}</h4>
            <div class="favourite">
              <button class="fav-btn" data-code="{{ loc.code }}">
              {% if loc.favourite_symbol == '<i class="fa-solid fa-heart"></i>' %}
                <i class="fa-solid fa-heart"></i>
              {% else %}
                <i class="fa-regular fa-heart"></i>
              {% endif %}
              </button>
            </div>
            </div>
            <p>{{ loc.description }}</p>
            <div style="display: flex; align-items: center; justify-content: space-between;">
            <div class="rating">
              {{ loc.star_html|safe }}
              <span>{{ loc.rating }} / 5</span>
            </div>
          </div>
        </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>
  {% comment %} Tại sao lại chọn chúng tôi {% endcomment %}
  <section class="why-choose-us">
  <h2>Tại sao nên chọn chúng tôi?</h2>
  <p>Chúng tôi mang đến trải nghiệm nhanh, chính xác và đáng tin cậy nhất.</p>
  <div class="features">
    <div class="feature">
      <i class="fa-solid fa-bolt"></i>
      <h3>Nhanh chóng & Tiện lợi</h3>
      <p>Chỉ vài bước đơn giản để nhận kết quả tức thì.</p>
    </div>
    <div class="feature">
      <i class="fa-solid fa-brain"></i>
      <h3>Công nghệ AI hiện đại</h3>
      <p>Phân tích dữ liệu thông minh, chính xác cao.</p>
    </div>
    <div class="feature">
      <i class="fa-solid fa-headset"></i>
      <h3>Hỗ trợ tận tâm</h3>
      <p>Đội ngũ chăm sóc khách hàng 24/7 sẵn sàng hỗ trợ bạn.</p>
    </div>
  </div>
</section>
{% endblock %}
